---
title: Kafka
date: 2022-05-09 15:16:37
tags: Q&A
categories:
- [Q&A, Q&A-java]
---

## kafka可以脱离zookeeper单独使用吗？为什么
|||
|---|---|
|kafka是否可以脱离zookeeper单独使用|不能|
|原因|kafka需要zookeeper协调管理kafka节点|

## kafka有几种数据保留策略
1、按照过期时间保留
2、按照消息大小保留

## kafka清除数据逻辑，比如同时设置到达7天和10G时清除数据，如果5天时到达了10G会发生什么
kafka会清除数据，有条件被满足即执行

## 什么情况下会导致kafka运行变慢
1、cpu性能瓶颈
2、磁盘读写瓶颈
3、网络传输速度瓶颈

## 使用kafka集群需要注意什么
|注意点|原因|
|---|---|
|节点数量不要超过7个|节点越多，消息复制需要的时间就越长，集群吞吐量就越低|
|节点数量最好是单数|集群超过一半节点集群就会故障不可用，设置为单数容错率高|
