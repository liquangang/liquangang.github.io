---
title: 容器
date: 2021-12-06 16:34:38
tags: Q&A
categories:
- [Q&A, Q&A-java]
---

## 容器有哪些类
* Collection：元素是独立对象
  * List：有序集合，元素可重复
    * ArrayList：数组实现，可动态修改
    * LinkedList：链表实现，可动态修改
    * Vector：同步版本的ArrayList
      * Stack：先进后出Vector，就是标准的栈
  * Queue：先进先出的队列
    * LinkedList：同时也实现了Queue接口
    * PriorityQueue：优先级队列
  * Set：元素不可重复
    * HashSet：按照哈希算法存取数据，且用于去重
    * TreeSet：使用红黑树存取数据
* Map：元素是键值对
  * HashMap: 哈希方式进行存取
  * TreeMap：红黑树进行存取

## Collection和Collections区别
Collection是一个接口类，Collections是一个工具类

## List、Set、Map区别
||List|Set|Map|
|---|---|---|---|
|本身存在形式|接口|接口|接口|
|继承关系|Collection|Collection|无|
|常见实现类|ArrayList、LinkedList等|HashSet、TreeSet等|HashMap、TreeMap等|
|元素|可重复独立元素|不可重复独立元素|不可重复键值对|

## HashMap和HashTable区别
||HashMap|HashTable|
|---|---|---|
|简介|map实现|map实现|
|方法差别|有contains方法|没有contains方法，多了containKey和containValue方法|
|同步&线程安全|非同步，效率略高，线程不安全|同步，线程安全|
|是否允许null|允许|不允许|
|官方建议|继续支持|官方已经淘汰，建议使用ConcurrentHashMap替换|

## HashMap、TreeMap区别
||HashMap|TreeMap|
|---|---|---|
|简介|哈希实现的map|红黑树实现的map|
|适用场景|适合插入、删除、定位元素|适合遍历元素|
|线程安全|非同步|


## HashMap实现原理
* 数据结构：数组，数组元素是链表或者红黑树
* 元素变化：当链表节点超过8个时，链表会转换成红黑树

## HashSet实现原理
* 数据机构：使用HashMap实现
* 数据存储位置：元素保存到HashMap的key里面，HashMap的value统一写死成PRESENT

## ArrayList、LinkedList区别
||ArrayList|LinkedList|
|---|---|---|
|相同点|都是List接口的具体实现|
|实现原理|使用数组实现|使用双向链表实现|
|适用场景|适合随机访问元素，ArrayList随机访问元素O(1), LinkedList随机访问元素O(n)|适合频繁插入、删除，LinkedList可以直接插入删除，不需要内存的巨大调整|
|内存占用|较小，元素只存储元素|每个元素除了元素本身内容以外，还保存上一个节点和下一个节点的引用|

## 数组与List转换
* 数组转List：Arrays.asList
* List转数组：ArrayList.toArray

## ArrayList、Vector区别
||ArrayList|Vector|
|---|---|---|
|同步非同步|非同步|同步|
|拓展倍数|拓展为原来1.5倍|拓展为原来的2倍|
|二者关系|Vector是ArrayList的同步版本|

## Array、ArrayList区别
||Array|ArrayList|
|---|---|---|
|简介|java提供的一种基本数据结构|基于Array实现的可变Array|
|实现|Java提供的一种最基本的数据结构|基于Array实现|
|是否可变|不可变|可变|
|是否可以存储基本数据类型|可以|不可以，只能保存对象|
|是否可以存放不同类型数据|不可以|可以|

## Queue中pull()和remove()区别
||pull()|remove()|
|---|---|---|
|作用|删除头部元素并返回|
|区别|Queue为空时返回null|Queue为空时抛出NoSuchElementsException|

## 哪些集合类是线程安全的
* Vector、Stack
* Hashtable
* java.util.concurrent包下的类，ArrayBlockingQueue、ConcurrentHashMap、ConcurrentLinkedQueue、ConcurrentLinkedDeque

## 迭代器Iterator是什么
一个专门描述以遍历集合为主要功能的类

## Iterator怎么使用，特点
* next()：获取下一个元素
* hasNext(): 判断是否有下一个元素
* remove(): 删除元素

## Iterator和ListIterator区别
||Iterator|ListIterator
|---|---|---|
|可以遍历的集合|List、Set|List|
|遍历方向|单向|双向|
|集合操作功能|读、删|读、删、增|
|索引读取能力|不能读取集合索引|可以读取集合索引|

## 怎么确保一个集合不能被修改？
使用Collections的方法unmodifiableList和unmodifiableSet
