---
title: 网络
date: 2022-04-12 19:43:00
tags: Q&A
categories:
- [Q&A, Q&A-java]
---

## http 响应码301、302代表什么、区别
||301|302|
|---|---|---|
|响应码含义|永久性重定向，应使用新URI|临时性重定向，应继续使用原有URI|
|区别|一个永久，一个临时，一个需要换URI，一个不需要|

## 常见http响应段含义
|http响应段|含义|
|---|---|
|100-199|表示服务正在处理请求|
|200-299|响应成功|
|300-399|重定向|
|400-499|client错误|
|500-599|server错误|

## forward、redirect区别
forward：直接转发，client发一次请求，server转发到可以响应的部分
redirect: 间接转发，client发两次请求，第一次请求获得第二次请求url

## tcp、udp区别
||tcp|udp|
|---|---|---|
|可靠性|非常可靠|非常不可靠|
|是否有连接|需要建立连接后传递信息|不需要连接即可传递信息|
|实时性|较差|较强|
|收发方数量|1对1|n对n|
|效率|较低|较高|
|资源占用|较高|较低|

## tcp为什么要三次握手，两次不行吗
### 两次不行，tcp本身要求的就是信息传递的可靠性，而两次无法确定server和client同时具备收发数据能力
### 三次握手、四次挥手
* 三次握手：
  * client传输数据给server
  * server回复
  * client把业务数据传给server
* 四次挥手：
  * client告诉server要关闭连接
  * server告诉client，等数据传完了就可以关闭
  * server告诉client数据传完了
  * client过一会就关闭

## tcp粘包产生原因，如何解决
|||
|---|---|
|定义|接收方在遇到数据包之后获得的数据与原始数据不一致，原因是数据包首尾相连时会出现解析异常|
|原因|核心原因：消息头尾不确定<br/>发送方原因：nagle算法拆分数据段时，弄错头尾<br/>接收方原因：没有及时取数据，然后取的数据不对|
|解决办法|加入消息头尾标记；<br/>加入消息长度标记|

## OSI七层模型
|模型层|简介|
|---|---|
|应用层|为应用提供接口，直接对接应用，比如HTTP|
|表示层|数据格式转化、数据加密，比如将一种编码转成另一种编码|
|会话层|建立、管理、维护会话（session）|
|传输层|建立、管理、维护端到端的连接，比如tcp、udp|
|网络层|ip地址管理、路由选择，比如ip等|
|数据链路层|提供网络层与物理层之间的通信|
|物理层|比特流传输，即网线等网络硬件|

## get、post请求区别
||get|post|
|---|---|---|
|综述|实际两者只是定义上的区别，http本身无区别，更多的区别来自于client与server本身对于二者的限制|
|使用场景|获取某种资源|提交某种资源|
|参数位置|url、requestbody（有的client会限制该方式）中|url中，requestbody中|
|参数长度|url中长度会限制|接近无限制|
|安全|较差|较好|

## 如何实现跨域
|||
|---|---|
|跨域定义|client为了保证安全，会限制应用只能请求一个地址下的服务，当需要请求多个地址的服务时，就需要跨域|
|实现方式|1、代理方式，比如Nginx反向代理<br/>2、利用html5的部分标签的特殊能力，比如jsonp<br/>3、websocket等|

## jsonp原理
利用script的漏洞，本质支持跨域，然后回调接收json进行处理

## 浏览器输入url请求服务详细过程
1、输入URL
2、DNS解析
3、建立TCP连接
4、发送HTTP请求
5、服务响应HTTP请求
6、浏览器解析请求并渲染页面
7、HTTP请求结束，TCP连接断开
