---
title: Redis
date: 2022-05-13 16:40:28
tags: Q&A
categories:
- [Q&A, Q&A-java]
---

## Redis是什么，有哪些使用场景
|||
|---|---|
|是什么|一个开源的、用c语言编写的、支持网络、可基于内存也可持久化的日志型、支持多种语言API的key-value数据库|
|使用场景|1、数据库高并发读写<br/>2、海量数据读写<br/>3、多拓展性要求高的数据|

## redis有哪些功能
1、数据缓存
2、分布式锁
3、数据持久化
4、支持事务
5、支持消息队列

## redis和memoryCache区别
||Redis|memoryCache|
|---|---|---|
|存储内容区别|key-value|简单字符串|
|速度|快|慢|
|是否可以持久化|可以|不可以|

## redis为什么时单线程
redis性能瓶颈在于内存读写速度、网络带宽等，单线程即可实现每秒几十万请求，所以不需要使用多线程

## 什么是缓存穿透，如何解决
|||
|---|---|
|缓存穿透|redis和数据库中均没有某数据，每次查询redis是，都需要查询数据库，此时即出现缓存穿透|
|解决方案|将空结果也进行缓存，并设置较短的过期时间|

## redis支持的数据类型有哪些
1、string
2、list
3、hash
4、set
5、zset（有序集合）

## redis支持的java客户端有哪些
1、Redission（官方推荐）
2、Jedis
3、lettuce

## Jedis、Redission区别
||Jedis|Redission|
|---|---|---|
|特点|功能全面|功能简单，支持分布式、可拓展，目的是使redis使用与业务分离，使程序员集中在业务逻辑处理上|
|功能丰富度|全面支持所有redis命令|功能简单，不支持字符串操作、排序、事务、管道、分区|

## 怎么保证缓存数据库的一致性
1、合适设置过期时间
2、写库操作同步redis

## redis持久化方式
|持久化方式|简介|
|---|---|
|RDB|定时存储数据快照|
|AOP|写操作通过write函数进行持久化|

## redis如何实现分布式锁
使用setnx占有锁，且只允许一个程序占有，使用完调用del释放锁

## redis分布式锁缺陷
redis锁不能解决超时问题，超时时间内未处理完成会出问题

## redis如何做内存优化
1、尽量使用hash
2、使用尽量少的key

## redis淘汰策略
|策略|简介|
|---|---|
|volatile-lru|已设置过期时间的数据集中的最近最少使用数据淘汰|
|volatile-ttl|已设置过期时间的数据集中将要过期的数据淘汰|
|volatile-random|已设置过期时间的数据集中的任意数据淘汰|
|allkeys-lru|数据集中最近最少使用的淘汰|
|allkeys-random|数据集中任意数据淘汰|
|no-enviction|禁止驱逐数据|

## redis常见性能问题？如何解决
|问题|解决方案|
|---|---|
|主服务写大内存快照如果需要较多时间时，会阻塞其他工作|避免写大内存快照|
|redis中从复制性能问题|最好在同一局域网内|
