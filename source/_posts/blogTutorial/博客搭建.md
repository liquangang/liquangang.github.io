---
title: 博客搭建
date: 2021-08-24 10:52:32
tags: 博客搭建
categories:
- [博客搭建]
---


```
以下相关讲解均基于hexo + github pages方案，请注意！！！
```


### 博客搭建方案选择
* [参考文章1](https://www.cnblogs.com/panchanggui/p/12483459.html)

### 搭建教程
* [参考文章1](https://zhuanlan.zhihu.com/p/26625249)

### hexo + github pages搭建过程中遇到的问题
#### 删除categories、tags
1、删除含有需要删除categories、tags的文章
2、hexo clean
3、hexo s
4、hexo g

#### Support for password authentication was removed on August 13, 2021. Please use a personal access token instead
  * github 不再支持password，必须使用Personal access tokens
    * [参考文章1](http://odcowl.com/2021/08/16/Hexo%E5%8D%9A%E5%AE%A2%EF%BC%9Agithub%E4%B8%8D%E5%86%8D%E6%94%AF%E6%8C%81%E5%AF%86%E7%A0%81%E9%AA%8C%E8%AF%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%882021-8-13%E6%9B%B4%E6%96%B0/)


#### No layout: index.html
  * 可能是主题未正确安装的问题
    * [安装主题参考](https://www.haomwei.com/technology/maupassant-hexo.html)


#### fatal: in unpopulated submodule '.deploy_git'
  * 删除.deploy_git(rm -rf .deploy_git/)，然后重新hexo d

#### git push 需要输入用户名密码问题
* 需要改成token方式：
  * git remove -v: 查看当前origin配置
  * git remote remove origin：移除origin配置
  * git remove -v：再次查看origin配置
  * git remote add origin https://你的token@github.com/liquangang/liquangang.github.io.git
  * git remote -v：查看是否修改成功

#### hexo d 推动失败
* 一种可能：依然是git配置问题，需要修改_config.yml文件中的git配置（deploy->repo），此处与git的正常配置一样，即设置origin（举例：https://你的token@github.com/liquangang/liquangang.github.io.git）
* 另一种可能: 代码库地址配置的是http格式，换成ssh格式，然后重新配置一遍ssh key就行了（伤心&激动，搞了好久，一直在搞http格式的，一直没成功，不过我觉得http的也行，因为之前我用的就是http格式，不知道这次为什么不行了，总之现在确定ssh形式可以）


#### hexo clean 等提示 node-sass问题
* [参考文章](https://ld246.com/article/1514944079522)
* 原因：node源不稳定
* 解决：切换国内源（npm install -g cnpm --registry=https://registry.npm.taobao.org），然后使用cnpm命令执行操作

#### err: Error: Spawn failed
* 解决：
    * 删除.deploy_git目录
    * git config --global core.autocrlf false
    * hexo clean && hexo g && hexo d
    
#### 测试测试

### 技巧
#### 如何保存原始文章：
* 目前笔者采用的方式是，在github上新建一个专门用来保存原始文章的分支，然后将原始文章push到这个分支上
* push脚本：
    ```
        hexo clean;
        git add .;
        git commit -m "博客文章更新";
        git push;
        hexo g;
        hexo d;
        hexo clean;
    ```
