---
title: 多线程
date: 2022-01-17 20:40:20
tags: 面试
categories:
- [interview, interview-java]
---

### 并行和并发有什么区别？
#### 并发：
* 在操作系统中，一个时间段内在同一个处理机上处于开始到结束之间的多个任务之间的状态，window的时间片分时调度即并发，实际是串行，但是多个任务在不停地切换，每个任务运行一小会，以实现多个任务的同时运行即并发

#### 并行：
* 互不抢占资源的两个任务同时运行时，即并行

#### 区别：
* 并发实际上是串行
* 并发需要共享运算资源，并行不需要
* 单cpu可以实现并发，但不能实现并行
* 并行是真正的同时运行


### 线程和进程的区别？
#### 线程：
* 是进程的子任务
* 是操作系统可识别的最小执行和调度单位
* 是CPU调度和分配的基本单位

#### 进程：
* 是对运行时程序的封装
* 是系统进行资源调度和分配的基本单位

#### 区别：
* 一个线程只能属于一个进程，一个进程可以包含多个线程，且至少有一个线程
* 进程用友独立的内存单元，多个线程共享这部分内存
* 进程是资源分配的最小单位，线程是cpu调度的最小单位
* 创建、撤销、切换等操作，进程的开销要远大于线程
* 线程间可以使用共享内存进行通信，实现起来较简单，进程间通信实现较复杂，进程间通信依赖线程
* 进程间互相不会影响，线程挂掉时会导致整个进程挂掉

### 进程间通信方式？
* 管道：
  * 匿名管道：管道是一种半双工的通信方式，数据只能单向流动，而且只能在具有亲缘关系的进程间使用。进程的亲缘关系通常是指父子进程关系
  * 高级管道：将另一个程序当做一个新的进程在当前程序进程中启动，则它算是当前程序的子进程，这种方式我们成为高级管道方式。
  * 有名管道：有名管道也是半双工的通信方式，但是它允许无亲缘关系进程间的通信
* 消息队列
* 信号量：信号量是一个计数器，可以用来控制多个进程对共享资源的访问。它常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步手段。
* 信号：信号是一种比较复杂的通信方式，用于通知接收进程某个事件已经发生
* 共享内存：
* 套接字

### 线程间通信方式？
* 各种锁：互斥锁
* 信号量：
* 信号：
* 进程间通信也能用于线程间通信，进程间通信本质上都是线程在干活
