---
title: 容器
date: 2021-12-06 16:34:38
tags: 面试
categories:
- [interview, interview-java]
---

## 容器简介
* 作用：持有和增删对象
* 分类：
  * Collection：一个独立元素组成的队列，这些元素都遵守一个或多个相同的规则
  * Map：一组由成对的“键值对”组成的对象

## Collection：一个接口，定义了对集合对象操作的通用方法
### 介绍：
* java.util.Collection是一个接口，定义了对集合对象操作的一些通用方法
* java本身没有直接提供Collection的实现类，而是提供了Collection的接口子类，比如List和Set
* 关联类：Collections，一个都是静态方法的工具类，且该类不能被实例化（构造方法私有了）


### 组成类：
  * List
    * LinkedList
    * ArrayList
    * Vector
      * Stack
  * Set
    * HashSet
    * TreeSet
    * LinkedHashSet

### Collection主要方法：
  * boolean addObject(Object o): 添加元素到集合
  * boolean removeObject(Object o): 从集合中删除某个元素
  * int size(): 集合中元素数量
  * boolean contains(Object o): 查找集合中是否包含某个元素
  * boolean isEmpty：判断集合中是否为空
  * Iterator iterator(): 返回一个迭代器
  * boolean containsAll(Collection c): 判断是否包含另一个集合中的全部元素
  * boolean addAll(Collection c)：将另一个集合里面的所有元素添加到当前集合中
  * void clear(): 删除集合中所有元素
  * void removeAll(Collection c)：从当前集合中删除c中的所有元素
  * void retainAll(Collection c)：从当前集合中删除c中没有的元素


### List：一个继承Collection的接口类，表示有序集合，可精确控制每个元素的插入位置，可使用索引访问元素，类似数组
  * 数组和list区别：
    * 数组是静态的，即长度固定，且所有元素保存在一块连续的内存区域中，list的长度可变
    * 数组是多维，list的实现类ArrayList是一维
    * 数组是java中最基本的数据结构，没有类对应，list本身是一个接口类，list有实现类ArrayList等，即ArrayList功能比Array多
    * list的实现类ArrayList即基于数组实现
  * 实现类：ArrayList、LinkedList、Vector、Stack
  * LinkedList（链表）：即java的链表，有单向和双向链表
    * 特点：相比ArrayList，适合增删操作，不适合修改和查找
    * 使用场景：适合通过循环迭代使用某些元素，适合在表中任意位置增删元素
    * 注意：LinkedList没有同步方法，多线程访问时需要自己实现访问同步，使用Collections.synchronizedList可以创建一个同步list解决
  * ArrayList（可变数组）：即java的可变数组
    * 特点：非同步，跟LinkedList一样
    * 使用场景：适合快速访问任一元素，适合在表尾执行增删操作
  * Vector：类似ArrayList，但是是同步的
  * Stack：继承Vector，即现金后出的堆

### Set：不包含重复元素的Collection，最多有一个null元素
* 实现类：HashSet、LinkedHashSet、TreeSet
* HashSet：基于HashMap实现，一个不包含重复元素的无序集合，非线程安全
* TreeSet：基于TreeMap实现，一个有序不包含重复元素的集合
* LinkedHashSet：继承于HashSet，一个按照插入顺序排序的有序且不包含重复元素的集合



## Map：一组key-value集合
### 组成类
  * HashMap
  * TreeMap
  * HashTable
  * WeakHashMap
  * ConcurrentHashMap
  * LinkedHashMap

### 主要方法
* boolean equals(Object o)：比较两个对象是否相等
* boolean remove(Object o)：删除对象
* put: 向map中添加key-value
* size：map中key-value个数

### ConcurrentHashMap、HashTable：与HashMap类似，可同步访问，key、value均不能为null，官方以废弃HashTable，使用ConcurrentHashMap

### HashMap: 非同步，无序，允许key、value为null的map

### WeakHashMap：类似HashMap，对key是弱引用，当key未被引用时，GC可回收

### TreeMap：一个使用key和一个比较规则进行排序的map

### LinkedHashMap：一个有序的HashMap
